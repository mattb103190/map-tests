import { Injectable } from '@angular/core';
import { AuthenticatedHttpClient } from '../auth-http-client.service';
import { Observable } from 'rxjs/Observable';
import { Route } from './route';
import { RouteQueryOpts } from './route-query-opts';

import { environment } from '../../../environments/environment';
import { PagedResponse } from '../generic/paged-response';
import { ParamSerializer } from '../generic/param-serializer';

@Injectable()
export class RouteService {
    private apiUrl = `${environment.apiBaseUrl}/routing`;
    private routeOptions: Route[] = [];
    private data = [
        {
            'id': 1,
            'name': 'Route1',
            'long_name': 'route one',
            'color': '#0000ff',
            'text_color': '#000000',
            'type': 'bus',
            'url': null,
            'description': null,
            'legs': [
                {
                    'origin_stop': {
                        'id': 1,
                        'name': 'Org1_stop1',
                        'geometry': {
                            'type': 'Point',
                            'coordinates': [
                                -85.4321765899658,
                                31.2284724615694
                            ]
                        },
                        'boundary': {
                            'type': 'Polygon',
                            'coordinates': [
                                [
                                    [
                                        -85.4324126243591,
                                        31.2282339294713
                                    ],
                                    [
                                        -85.4318976402283,
                                        31.2282339294713
                                    ],
                                    [
                                        -85.4318976402283,
                                        31.2288486071163
                                    ],
                                    [
                                        -85.4324126243591,
                                        31.2288486071163
                                    ],
                                    [
                                        -85.4324126243591,
                                        31.2282339294713
                                    ]
                                ]
                            ]
                        }
                    },
                    'dest_stop': {
                        'id': 2,
                        'name': 'Org1_stop2',
                        'geometry': {
                            'type': 'Point',
                            'coordinates': [
                                -85.4247093200683,
                                31.2490940369638
                            ]
                        },
                        'boundary': {
                            'type': 'Polygon',
                            'coordinates': [
                                [
                                    [
                                        -85.4248702526092,
                                        31.2489472800928
                                    ],
                                    [
                                        -85.4245215654373,
                                        31.2489472800928
                                    ],
                                    [
                                        -85.4245215654373,
                                        31.2493416886665
                                    ],
                                    [
                                        -85.4248702526092,
                                        31.2493416886665
                                    ],
                                    [
                                        -85.4248702526092,
                                        31.2489472800928
                                    ]
                                ]
                            ]
                        }
                    },
                    'path': {
                        'type': 'LineString',
                        'coordinates': [
                            [
                                -85.4321551322937,
                                31.2286375988231
                            ],
                            [
                                -85.4320693016052,
                                31.2303990449068
                            ],
                            [
                                -85.4317045211792,
                                31.2349217742969
                            ],
                            [
                                -85.4315221309662,
                                31.2379490381212
                            ],
                            [
                                -85.431307554245,
                                31.238893891511
                            ],
                            [
                                -85.430953502655,
                                31.2403891256214
                            ],
                            [
                                -85.4296338558197,
                                31.2434620784697
                            ],
                            [
                                -85.4290974140167,
                                31.2444343949661
                            ],
                            [
                                -85.4284751415253,
                                31.2452507661802
                            ],
                            [
                                -85.4276597499847,
                                31.2462414094117
                            ],
                            [
                                -85.4268550872803,
                                31.2470761099935
                            ],
                            [
                                -85.4256749153137,
                                31.2482318370802
                            ],
                            [
                                -85.4248917102814,
                                31.2488280399671
                            ],
                            [
                                -85.4246771335602,
                                31.2492041044674
                            ]
                        ]
                    },
                    'waypoints': null,
                    'travel_time': 300
                },
                {
                    'origin_stop': {
                        'id': 2,
                        'name': 'Org1_stop2',
                        'geometry': {
                            'type': 'Point',
                            'coordinates': [
                                -85.4247093200683,
                                31.2490940369638
                            ]
                        },
                        'boundary': {
                            'type': 'Polygon',
                            'coordinates': [
                                [
                                    [
                                        -85.4248702526092,
                                        31.2489472800928
                                    ],
                                    [
                                        -85.4245215654373,
                                        31.2489472800928
                                    ],
                                    [
                                        -85.4245215654373,
                                        31.2493416886665
                                    ],
                                    [
                                        -85.4248702526092,
                                        31.2493416886665
                                    ],
                                    [
                                        -85.4248702526092,
                                        31.2489472800928
                                    ]
                                ]
                            ]
                        }
                    },
                    'dest_stop': {
                        'id': 3,
                        'name': 'Org1_stop3',
                        'geometry': {
                            'type': 'Point',
                            'coordinates': [
                                -85.3653144836426,
                                31.2384902659765
                            ]
                        },
                        'boundary': {
                            'type': 'Polygon',
                            'coordinates': [
                                [
                                    [
                                        -85.3657865524292,
                                        31.23819671905
                                    ],
                                    [
                                        -85.3647565841675,
                                        31.23819671905
                                    ],
                                    [
                                        -85.3647565841675,
                                        31.2392791688215
                                    ],
                                    [
                                        -85.3657865524292,
                                        31.2392791688215
                                    ],
                                    [
                                        -85.3657865524292,
                                        31.23819671905
                                    ]
                                ]
                            ]
                        }
                    },
                    'path': {
                        'type': 'LineString',
                        'coordinates': [
                            [
                                -85.4247012734413,
                                31.2491353122927
                            ],
                            [
                                -85.4238563776016,
                                31.2495388923356
                            ],
                            [
                                -85.4216998815536,
                                31.2507817245863
                            ],
                            [
                                -85.4202461242676,
                                31.2514054275952
                            ],
                            [
                                -85.418154001236,
                                31.2521575345673
                            ],
                            [
                                -85.4166948795319,
                                31.2525519297311
                            ],
                            [
                                -85.4149675369263,
                                31.2528454320396
                            ],
                            [
                                -85.4130578041077,
                                31.2530655581722
                            ],
                            [
                                -85.4109227657318,
                                31.2530930739027
                            ],
                            [
                                -85.4037237167358,
                                31.2533131994578
                            ],
                            [
                                -85.3992605209351,
                                31.2533865745288
                            ],
                            [
                                -85.3955698013306,
                                31.2534232620429
                            ],
                            [
                                -85.3916645050049,
                                31.2534599495428
                            ],
                            [
                                -85.3905272483826,
                                31.2531847929463
                            ],
                            [
                                -85.3882473707199,
                                31.252854603972
                            ],
                            [
                                -85.3865039348602,
                                31.2524647960576
                            ],
                            [
                                -85.3841757774353,
                                31.2517218635758
                            ],
                            [
                                -85.3832852840424,
                                31.2513779113729
                            ],
                            [
                                -85.381064414978,
                                31.2503414611583
                            ],
                            [
                                -85.3788542747498,
                                31.2490756923674
                            ],
                            [
                                -85.3769445419312,
                                31.2479016307845
                            ],
                            [
                                -85.3754425048828,
                                31.2465074136948
                            ],
                            [
                                -85.3731250762939,
                                31.2450031037486
                            ],
                            [
                                -85.3702926635742,
                                31.2428933604074
                            ],
                            [
                                -85.3683400154114,
                                31.2414256850698
                            ],
                            [
                                -85.3662157058716,
                                31.2395727123842
                            ],
                            [
                                -85.3654217720032,
                                31.2387654653916
                            ],
                            [
                                -85.3652930259705,
                                31.2385498925845
                            ]
                        ]
                    },
                    'waypoints': null,
                    'travel_time': 300
                },
                {
                    'origin_stop': {
                        'id': 3,
                        'name': 'Org1_stop3',
                        'geometry': {
                            'type': 'Point',
                            'coordinates': [
                                -85.3653144836426,
                                31.2384902659765
                            ]
                        },
                        'boundary': {
                            'type': 'Polygon',
                            'coordinates': [
                                [
                                    [
                                        -85.3657865524292,
                                        31.23819671905
                                    ],
                                    [
                                        -85.3647565841675,
                                        31.23819671905
                                    ],
                                    [
                                        -85.3647565841675,
                                        31.2392791688215
                                    ],
                                    [
                                        -85.3657865524292,
                                        31.2392791688215
                                    ],
                                    [
                                        -85.3657865524292,
                                        31.23819671905
                                    ]
                                ]
                            ]
                        }
                    },
                    'dest_stop': {
                        'id': 4,
                        'name': 'Org1_stop4',
                        'geometry': {
                            'type': 'Point',
                            'coordinates': [
                                -85.375657081604,
                                31.1948151392379
                            ]
                        },
                        'boundary': {
                            'type': 'Polygon',
                            'coordinates': [
                                [
                                    [
                                        -85.3758180141449,
                                        31.1946820644399
                                    ],
                                    [
                                        -85.3754585981369,
                                        31.1946820644399
                                    ],
                                    [
                                        -85.3754585981369,
                                        31.1951088208886
                                    ],
                                    [
                                        -85.3758180141449,
                                        31.1951088208886
                                    ],
                                    [
                                        -85.3758180141449,
                                        31.1946820644399
                                    ]
                                ]
                            ]
                        }
                    },
                    'path': {
                        'type': 'LineString',
                        'coordinates': [
                            [
                                -85.3653573989868,
                                31.2390773570929
                            ],
                            [
                                -85.364316701889,
                                31.2373160727972
                            ],
                            [
                                -85.3629219532013,
                                31.2352795468945
                            ],
                            [
                                -85.361795425415,
                                31.2330686740325
                            ],
                            [
                                -85.3611409664154,
                                31.2311513191658
                            ],
                            [
                                -85.3604543209076,
                                31.2286651216707
                            ],
                            [
                                -85.3603363037109,
                                31.2271697020056
                            ],
                            [
                                -85.3602397441864,
                                31.2256834332483
                            ],
                            [
                                -85.3603148460388,
                                31.2244815568523
                            ],
                            [
                                -85.3605079650879,
                                31.2226374267124
                            ],
                            [
                                -85.3611731529236,
                                31.2229493716524
                            ],
                            [
                                -85.3625679016113,
                                31.2230411199683
                            ],
                            [
                                -85.3646492958069,
                                31.2228025741618
                            ],
                            [
                                -85.3661298751831,
                                31.2220869331303
                            ],
                            [
                                -85.3678464889526,
                                31.2213712866806
                            ],
                            [
                                -85.3694128990173,
                                31.2206005844448
                            ],
                            [
                                -85.3698635101318,
                                31.2206005844448
                            ],
                            [
                                -85.3691554069519,
                                31.2200500790006
                            ],
                            [
                                -85.3670740127563,
                                31.2193894682359
                            ],
                            [
                                -85.3658938407898,
                                31.2190408106934
                            ],
                            [
                                -85.3648853302002,
                                31.2186187498425
                            ],
                            [
                                -85.3640270233154,
                                31.2182700894574
                            ],
                            [
                                -85.3631901741028,
                                31.2177012197529
                            ],
                            [
                                -85.3622245788574,
                                31.2168387333493
                            ],
                            [
                                -85.3614950180054,
                                31.2160679941612
                            ],
                            [
                                -85.3613233566284,
                                31.216269855032
                            ],
                            [
                                -85.3615593910217,
                                31.2141502943932
                            ],
                            [
                                -85.3621172904968,
                                31.2120123344472
                            ],
                            [
                                -85.3628146648407,
                                31.2103606584745
                            ],
                            [
                                -85.3654217720032,
                                31.2054972228136
                            ],
                            [
                                -85.3663659095764,
                                31.2037536661139
                            ],
                            [
                                -85.3683614730835,
                                31.2008904927634
                            ],
                            [
                                -85.3705501556396,
                                31.1984860943572
                            ],
                            [
                                -85.3732109069824,
                                31.1963202480628
                            ],
                            [
                                -85.3750562667847,
                                31.1951822411588
                            ],
                            [
                                -85.3754854202271,
                                31.1953290815284
                            ]
                        ]
                    },
                    'waypoints': {
                        'type': 'MultiPoint',
                        'coordinates': [
                            [
                                -85.3697776794433,
                                31.2203620324792
                            ],
                            [
                                -85.3613662719727,
                                31.2160496431516
                            ]
                        ]
                    },
                    'travel_time': 300
                },
                {
                    'origin_stop': {
                        'id': 4,
                        'name': 'Org1_stop4',
                        'geometry': {
                            'type': 'Point',
                            'coordinates': [
                                -85.375657081604,
                                31.1948151392379
                            ]
                        },
                        'boundary': {
                            'type': 'Polygon',
                            'coordinates': [
                                [
                                    [
                                        -85.3758180141449,
                                        31.1946820644399
                                    ],
                                    [
                                        -85.3754585981369,
                                        31.1946820644399
                                    ],
                                    [
                                        -85.3754585981369,
                                        31.1951088208886
                                    ],
                                    [
                                        -85.3758180141449,
                                        31.1951088208886
                                    ],
                                    [
                                        -85.3758180141449,
                                        31.1946820644399
                                    ]
                                ]
                            ]
                        }
                    },
                    'dest_stop': {
                        'id': 5,
                        'name': 'Org1_stop5',
                        'geometry': {
                            'type': 'Point',
                            'coordinates': [
                                -85.4132509231567,
                                31.1975316597273
                            ]
                        },
                        'boundary': {
                            'type': 'Polygon',
                            'coordinates': [
                                [
                                    [
                                        -85.4135513305664,
                                        31.1972746949127
                                    ],
                                    [
                                        -85.4128754138947,
                                        31.1972746949127
                                    ],
                                    [
                                        -85.4128754138947,
                                        31.1979721692144
                                    ],
                                    [
                                        -85.4135513305664,
                                        31.1979721692144
                                    ],
                                    [
                                        -85.4135513305664,
                                        31.1972746949127
                                    ]
                                ]
                            ]
                        }
                    },
                    'path': {
                        'type': 'LineString',
                        'coordinates': [
                            [
                                -85.375651717186,
                                31.194874793397
                            ],
                            [
                                -85.3772449493408,
                                31.1941176416646
                            ],
                            [
                                -85.3785699605942,
                                31.1935623932105
                            ],
                            [
                                -85.3790259361267,
                                31.1933971946945
                            ],
                            [
                                -85.3804850578308,
                                31.1928694752807
                            ],
                            [
                                -85.3826415538788,
                                31.192318808407
                            ],
                            [
                                -85.3840148448944,
                                31.1919792289044
                            ],
                            [
                                -85.3851628303528,
                                31.1917681383291
                            ],
                            [
                                -85.3892934322357,
                                31.1907493902379
                            ],
                            [
                                -85.3914606571198,
                                31.1902629571009
                            ],
                            [
                                -85.3934347629547,
                                31.1900426846693
                            ],
                            [
                                -85.3951621055603,
                                31.1899325482613
                            ],
                            [
                                -85.3968572616577,
                                31.1899509043382
                            ],
                            [
                                -85.3981018066406,
                                31.1900518626975
                            ],
                            [
                                -85.4001617431641,
                                31.1903455591306
                            ],
                            [
                                -85.4016315937042,
                                31.190657610592
                            ],
                            [
                                -85.4034447669983,
                                31.1911807533809
                            ],
                            [
                                -85.4075217247009,
                                31.1929887860143
                            ],
                            [
                                -85.4093778133392,
                                31.1942553060666
                            ],
                            [
                                -85.4121887683869,
                                31.1966598119878
                            ],
                            [
                                -85.4132187366486,
                                31.1976876737386
                            ]
                        ]
                    },
                    'waypoints': null,
                    'travel_time': 300
                },
                {
                    'origin_stop': {
                        'id': 5,
                        'name': 'Org1_stop5',
                        'geometry': {
                            'type': 'Point',
                            'coordinates': [
                                -85.4132509231567,
                                31.1975316597273
                            ]
                        },
                        'boundary': {
                            'type': 'Polygon',
                            'coordinates': [
                                [
                                    [
                                        -85.4135513305664,
                                        31.1972746949127
                                    ],
                                    [
                                        -85.4128754138947,
                                        31.1972746949127
                                    ],
                                    [
                                        -85.4128754138947,
                                        31.1979721692144
                                    ],
                                    [
                                        -85.4135513305664,
                                        31.1979721692144
                                    ],
                                    [
                                        -85.4135513305664,
                                        31.1972746949127
                                    ]
                                ]
                            ]
                        }
                    },
                    'dest_stop': {
                        'id': 1,
                        'name': 'Org1_stop1',
                        'geometry': {
                            'type': 'Point',
                            'coordinates': [
                                -85.4321765899658,
                                31.2284724615694
                            ]
                        },
                        'boundary': {
                            'type': 'Polygon',
                            'coordinates': [
                                [
                                    [
                                        -85.4324126243591,
                                        31.2282339294713
                                    ],
                                    [
                                        -85.4318976402283,
                                        31.2282339294713
                                    ],
                                    [
                                        -85.4318976402283,
                                        31.2288486071163
                                    ],
                                    [
                                        -85.4324126243591,
                                        31.2288486071163
                                    ],
                                    [
                                        -85.4324126243591,
                                        31.2282339294713
                                    ]
                                ]
                            ]
                        }
                    },
                    'path': {
                        'type': 'LineString',
                        'coordinates': [
                            [
                                -85.4132455587387,
                                31.1976188440594
                            ],
                            [
                                -85.41384100914,
                                31.1982245435173
                            ],
                            [
                                -85.4144954681396,
                                31.1988485934486
                            ],
                            [
                                -85.4151284694672,
                                31.1994542850337
                            ],
                            [
                                -85.4173064231872,
                                31.2014732289787
                            ],
                            [
                                -85.4188460111618,
                                31.2028910524951
                            ],
                            [
                                -85.4195111989975,
                                31.2035517785252
                            ],
                            [
                                -85.4200208187103,
                                31.2039968483191
                            ],
                            [
                                -85.4205465316772,
                                31.2044923874815
                            ],
                            [
                                -85.4214370250702,
                                31.2053091037691
                            ],
                            [
                                -85.4226064682007,
                                31.2064240477656
                            ],
                            [
                                -85.4251652956009,
                                31.2087915395801
                            ],
                            [
                                -85.4261791706085,
                                31.2097825650687
                            ],
                            [
                                -85.4276651144028,
                                31.2113424915579
                            ],
                            [
                                -85.4286843538284,
                                31.2126179417424
                            ],
                            [
                                -85.4297626018524,
                                31.2142787539664
                            ],
                            [
                                -85.4303580522537,
                                31.2154211189217
                            ],
                            [
                                -85.430771112442,
                                31.216324907922
                            ],
                            [
                                -85.4315596818924,
                                31.2183526670332
                            ],
                            [
                                -85.4319566488266,
                                31.2199675029075
                            ],
                            [
                                -85.4322946071625,
                                31.222169507372
                            ],
                            [
                                -85.4322731494904,
                                31.222775049607
                            ],
                            [
                                -85.4322892427444,
                                31.2246650504204
                            ],
                            [
                                -85.4322731494904,
                                31.2255091162453
                            ],
                            [
                                -85.4321604967117,
                                31.2274265855946
                            ],
                            [
                                -85.4321122169495,
                                31.2283531955956
                            ],
                            [
                                -85.4321390390396,
                                31.2285596173781
                            ]
                        ]
                    },
                    'waypoints': null,
                    'travel_time': 300
                }
            ]
        },
        {
            'id': 2,
            'name': 'Route2',
            'long_name': 'route two',
            'color': '#990703',
            'text_color': '#000000',
            'type': 'bus',
            'url': null,
            'description': null,
            'legs': [
                {
                    'origin_stop': {
                        'id': 1,
                        'name': 'Org1_stop1',
                        'geometry': {
                            'type': 'Point',
                            'coordinates': [
                                -85.4321765899658,
                                31.2284724615694
                            ]
                        },
                        'boundary': {
                            'type': 'Polygon',
                            'coordinates': [
                                [
                                    [
                                        -85.4324126243591,
                                        31.2282339294713
                                    ],
                                    [
                                        -85.4318976402283,
                                        31.2282339294713
                                    ],
                                    [
                                        -85.4318976402283,
                                        31.2288486071163
                                    ],
                                    [
                                        -85.4324126243591,
                                        31.2288486071163
                                    ],
                                    [
                                        -85.4324126243591,
                                        31.2282339294713
                                    ]
                                ]
                            ]
                        }
                    },
                    'dest_stop': {
                        'id': 3,
                        'name': 'Org1_stop3',
                        'geometry': {
                            'type': 'Point',
                            'coordinates': [
                                -85.3653144836426,
                                31.2384902659765
                            ]
                        },
                        'boundary': {
                            'type': 'Polygon',
                            'coordinates': [
                                [
                                    [
                                        -85.3657865524292,
                                        31.23819671905
                                    ],
                                    [
                                        -85.3647565841675,
                                        31.23819671905
                                    ],
                                    [
                                        -85.3647565841675,
                                        31.2392791688215
                                    ],
                                    [
                                        -85.3657865524292,
                                        31.2392791688215
                                    ],
                                    [
                                        -85.3657865524292,
                                        31.23819671905
                                    ]
                                ]
                            ]
                        }
                    },
                    'path': {
                        'type': 'LineString',
                        'coordinates': [
                            [
                                -85.4320049285889,
                                31.2285825531039
                            ],
                            [
                                -85.4296445846557,
                                31.2284541129678
                            ],
                            [
                                -85.4257392883301,
                                31.2283623699066
                            ],
                            [
                                -85.4231429100037,
                                31.2283256726572
                            ],
                            [
                                -85.4202032089233,
                                31.2283073240271
                            ],
                            [
                                -85.4175853729248,
                                31.2282339294713
                            ],
                            [
                                -85.4159760475159,
                                31.2279036532645
                            ],
                            [
                                -85.4116201400757,
                                31.2270963065662
                            ],
                            [
                                -85.4084658622742,
                                31.2266375837786
                            ],
                            [
                                -85.4064059257507,
                                31.2265458389539
                            ],
                            [
                                -85.4035091400147,
                                31.2260137172143
                            ],
                            [
                                -85.4010844230652,
                                31.2254999416573
                            ],
                            [
                                -85.3889179229736,
                                31.2231512178298
                            ],
                            [
                                -85.3844118118286,
                                31.2229677213227
                            ],
                            [
                                -85.383038520813,
                                31.2230411199683
                            ],
                            [
                                -85.3829097747803,
                                31.2347841690909
                            ],
                            [
                                -85.381965637207,
                                31.2347841690909
                            ],
                            [
                                -85.3804206848145,
                                31.2347841690909
                            ],
                            [
                                -85.3784894943237,
                                31.2346373899836
                            ],
                            [
                                -85.3762149810791,
                                31.2347107795657
                            ],
                            [
                                -85.3727388381958,
                                31.2354446722518
                            ],
                            [
                                -85.3706789016724,
                                31.2359950880251
                            ],
                            [
                                -85.3666019439697,
                                31.2378664776673
                            ],
                            [
                                -85.365743637085,
                                31.2383801859859
                            ],
                            [
                                -85.3651428222656,
                                31.2390773570929
                            ]
                        ]
                    },
                    'waypoints': null,
                    'travel_time': 300
                },
                {
                    'origin_stop': {
                        'id': 3,
                        'name': 'Org1_stop3',
                        'geometry': {
                            'type': 'Point',
                            'coordinates': [
                                -85.3653144836426,
                                31.2384902659765
                            ]
                        },
                        'boundary': {
                            'type': 'Polygon',
                            'coordinates': [
                                [
                                    [
                                        -85.3657865524292,
                                        31.23819671905
                                    ],
                                    [
                                        -85.3647565841675,
                                        31.23819671905
                                    ],
                                    [
                                        -85.3647565841675,
                                        31.2392791688215
                                    ],
                                    [
                                        -85.3657865524292,
                                        31.2392791688215
                                    ],
                                    [
                                        -85.3657865524292,
                                        31.23819671905
                                    ]
                                ]
                            ]
                        }
                    },
                    'dest_stop': {
                        'id': 1,
                        'name': 'Org1_stop1',
                        'geometry': {
                            'type': 'Point',
                            'coordinates': [
                                -85.4321765899658,
                                31.2284724615694
                            ]
                        },
                        'boundary': {
                            'type': 'Polygon',
                            'coordinates': [
                                [
                                    [
                                        -85.4324126243591,
                                        31.2282339294713
                                    ],
                                    [
                                        -85.4318976402283,
                                        31.2282339294713
                                    ],
                                    [
                                        -85.4318976402283,
                                        31.2288486071163
                                    ],
                                    [
                                        -85.4324126243591,
                                        31.2288486071163
                                    ],
                                    [
                                        -85.4324126243591,
                                        31.2282339294713
                                    ]
                                ]
                            ]
                        }
                    },
                    'path': {
                        'type': 'LineString',
                        'coordinates': [
                            [
                                -85.3653144836426,
                                31.2385269592782
                            ],
                            [
                                -85.3683292865753,
                                31.2370500426271
                            ],
                            [
                                -85.3709149360657,
                                31.2358024428692
                            ],
                            [
                                -85.3726208209991,
                                31.2354446722518
                            ],
                            [
                                -85.3772664070129,
                                31.2346098688756
                            ],
                            [
                                -85.3807640075683,
                                31.2346649110836
                            ],
                            [
                                -85.3829097747803,
                                31.2347474743354
                            ],
                            [
                                -85.3830063343048,
                                31.2291880542513
                            ],
                            [
                                -85.3830599784851,
                                31.223050294795
                            ],
                            [
                                -85.388617515564,
                                31.2232521407568
                            ],
                            [
                                -85.3907954692841,
                                31.2233897627564
                            ],
                            [
                                -85.3962028026581,
                                31.2243072376326
                            ],
                            [
                                -85.4033803939819,
                                31.225912797236
                            ],
                            [
                                -85.4176604747772,
                                31.2281330118638
                            ],
                            [
                                -85.4319727420807,
                                31.2285091587618
                            ]
                        ]
                    },
                    'waypoints': null,
                    'travel_time': 300
                }
            ]
        },
        {
            'id': 3,
            'name': 'Route3',
            'long_name': 'route three',
            'color': '#002920',
            'text_color': '#000000',
            'type': 'bus',
            'url': null,
            'description': null,
            'legs': [
                {
                    'origin_stop': {
                        'id': 2,
                        'name': 'Org1_stop2',
                        'geometry': {
                            'type': 'Point',
                            'coordinates': [
                                -85.4247093200683,
                                31.2490940369638
                            ]
                        },
                        'boundary': {
                            'type': 'Polygon',
                            'coordinates': [
                                [
                                    [
                                        -85.4248702526092,
                                        31.2489472800928
                                    ],
                                    [
                                        -85.4245215654373,
                                        31.2489472800928
                                    ],
                                    [
                                        -85.4245215654373,
                                        31.2493416886665
                                    ],
                                    [
                                        -85.4248702526092,
                                        31.2493416886665
                                    ],
                                    [
                                        -85.4248702526092,
                                        31.2489472800928
                                    ]
                                ]
                            ]
                        }
                    },
                    'dest_stop': {
                        'id': 4,
                        'name': 'Org1_stop4',
                        'geometry': {
                            'type': 'Point',
                            'coordinates': [
                                -85.375657081604,
                                31.1948151392379
                            ]
                        },
                        'boundary': {
                            'type': 'Polygon',
                            'coordinates': [
                                [
                                    [
                                        -85.3758180141449,
                                        31.1946820644399
                                    ],
                                    [
                                        -85.3754585981369,
                                        31.1946820644399
                                    ],
                                    [
                                        -85.3754585981369,
                                        31.1951088208886
                                    ],
                                    [
                                        -85.3758180141449,
                                        31.1951088208886
                                    ],
                                    [
                                        -85.3758180141449,
                                        31.1946820644399
                                    ]
                                ]
                            ]
                        }
                    },
                    'path': {
                        'type': 'LineString',
                        'coordinates': [
                            [
                                -85.4247093200683,
                                31.2496076842162
                            ],
                            [
                                -85.4173278808594,
                                31.2423062930092
                            ],
                            [
                                -85.4096031188965,
                                31.239040664005
                            ],
                            [
                                -85.4034233093262,
                                31.2390039709029
                            ],
                            [
                                -85.4011487960815,
                                31.2387471187889
                            ],
                            [
                                -85.3990888595581,
                                31.23816002562
                            ],
                            [
                                -85.3973293304443,
                                31.2366188886916
                            ],
                            [
                                -85.3957414627075,
                                31.2341970512935
                            ],
                            [
                                -85.3941106796265,
                                31.2295366743641
                            ],
                            [
                                -85.3932094573975,
                                31.2192610156067
                            ],
                            [
                                -85.393123626709,
                                31.2155908667532
                            ],
                            [
                                -85.393123626709,
                                31.2111865000669
                            ],
                            [
                                -85.3933811187744,
                                31.2086906012161
                            ],
                            [
                                -85.3879737854004,
                                31.2078096800123
                            ],
                            [
                                -85.3848838806152,
                                31.2059009892557
                            ],
                            [
                                -85.3806781768799,
                                31.2020834921909
                            ],
                            [
                                -85.3775024414062,
                                31.1978253329466
                            ],
                            [
                                -85.3756999969482,
                                31.1959898603716
                            ],
                            [
                                -85.3757429122925,
                                31.1949986903764
                            ]
                        ]
                    },
                    'waypoints': null,
                    'travel_time': 300
                },
                {
                    'origin_stop': {
                        'id': 4,
                        'name': 'Org1_stop4',
                        'geometry': {
                            'type': 'Point',
                            'coordinates': [
                                -85.375657081604,
                                31.1948151392379
                            ]
                        },
                        'boundary': {
                            'type': 'Polygon',
                            'coordinates': [
                                [
                                    [
                                        -85.3758180141449,
                                        31.1946820644399
                                    ],
                                    [
                                        -85.3754585981369,
                                        31.1946820644399
                                    ],
                                    [
                                        -85.3754585981369,
                                        31.1951088208886
                                    ],
                                    [
                                        -85.3758180141449,
                                        31.1951088208886
                                    ],
                                    [
                                        -85.3758180141449,
                                        31.1946820644399
                                    ]
                                ]
                            ]
                        }
                    },
                    'dest_stop': {
                        'id': 3,
                        'name': 'Org1_stop3',
                        'geometry': {
                            'type': 'Point',
                            'coordinates': [
                                -85.3653144836426,
                                31.2384902659765
                            ]
                        },
                        'boundary': {
                            'type': 'Polygon',
                            'coordinates': [
                                [
                                    [
                                        -85.3657865524292,
                                        31.23819671905
                                    ],
                                    [
                                        -85.3647565841675,
                                        31.23819671905
                                    ],
                                    [
                                        -85.3647565841675,
                                        31.2392791688215
                                    ],
                                    [
                                        -85.3657865524292,
                                        31.2392791688215
                                    ],
                                    [
                                        -85.3657865524292,
                                        31.23819671905
                                    ]
                                ]
                            ]
                        }
                    },
                    'path': {
                        'type': 'LineString',
                        'coordinates': [
                            [
                                -85.3755712509155,
                                31.1953657915852
                            ],
                            [
                                -85.3707218170166,
                                31.198449385511
                            ],
                            [
                                -85.3663015365601,
                                31.2043226197275
                            ],
                            [
                                -85.3614521026611,
                                31.2157009732919
                            ],
                            [
                                -85.3603577613831,
                                31.2229860709895
                            ],
                            [
                                -85.3608083724976,
                                31.2304357413511
                            ],
                            [
                                -85.363597869873,
                                31.2365088065203
                            ],
                            [
                                -85.3652930259705,
                                31.2387471187889
                            ]
                        ]
                    },
                    'waypoints': null,
                    'travel_time': 300
                }
            ]
        }
    ];


    private typeOptions = [
        { "id": 0, "code": "tram", "name": "Tram/Streetcar/Light Rail", "description": "Any light rail or street level system within a metropolitan area." },
        { "id": 1, "code": "subway", "name": "Subway/Metro", "description": "Any underground rail system within a metropolitan area." },
        { "id": 2, "code": "rail", "name": "Rail", "description": "Used for intercity or long-distance travel." },
        { "id": 3, "code": "bus", "name": "Bus", "description": "Used for short- and long-distance bus routes." },
        { "id": 4, "code": "ferry", "name": "Ferry", "description": "Used for short- and long-distance boat service." },
        { "id": 5, "code": "cable_car", "name": "Cable Car", "description": "Used for street-level cable cars where the cable runs beneath the car." },
        { "id": 6, "code": "gondola", "name": "Gondola/Suspended Cable Car", "description": "Typically used for aerial cable cars where the car is suspended from the cable." },
        { "id": 7, "code": "funicular", "name": "Funicular", "description": "Any rail system designed for steep inclines." }
    ];

    constructor() {
    }

    clearCache() {
        this.routeOptions = [];
    }

    getDropdownOptions(): Observable<any> {
        return Observable.of({
            typeOptions: this.typeOptions,
        });
    }

    getById(id: number): Observable<Route> {
        for (let i = 0; i < this.data.length; i++) {
            if (id === this.data[i].id) {
                return Observable.of(this.data[i]);
            }
        }
    }

    getOptions(flushCache: boolean): Observable<Route[]> {
        if (flushCache) { this.clearCache(); }

        this.routeOptions = this.data;
        return Observable.of(this.routeOptions);
    }

    search(filters: RouteQueryOpts): Observable<PagedResponse<Route>> {
        return Observable.of({
            data: this.data,
            count: this.data.length
        });
    }

    create(route: Route): Observable<Route> {
        return Observable.of(this.data[0]);
    }

    update(route: Route): Observable<Route> {
        this.clearCache();
        for (let i = 0; i < this.data.length; i++) {
            if (route.id === this.data[i].id) {
                return Observable.of(this.data[i]);
            }
        }
    }

    getActive() {
        return Observable.of(this.data);
    }

    remove(id: number): Observable<void> {
        this.clearCache();
        return Observable.of(null);
    }
}
